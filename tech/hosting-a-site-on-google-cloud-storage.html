<!DOCTYPE html><html lang="en-GB"><head><meta charset="utf-8"><title>Hosting a Site on Google Cloud Storage &gt; Tech &gt; Lee Penney</title><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><meta name="description" content="This is part of my series of try some alternative hosting options. Next up, I decided to try Google Cloud"><meta property="og:title" content="Hosting a Site on Google Cloud Storage"><meta property="og:description" content="This is part of my series of try some alternative hosting options. Next up, I decided to try Google Cloud"><meta property="og:url" content="https://www.leepenney.com/tech/hosting-a-site-on-google-cloud-storage.html"><meta property="og:type" content="article"><link rel="canonical" href="https://www.leepenney.com/tech/hosting-a-site-on-google-cloud-storage.html"><link rel="icon" href="https://www.leepenney.com/img/favicon.ico" type="image/x-icon"><style>body{color:#212121;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;letter-spacing:.02em;padding:0 20px;margin:0 auto;max-width:800px}a{color:#212121;text-decoration:none}dt{font-weight:700;font-size:1.2em}dt a{display:block;padding:10px 0 5px 0}dd,div.meta{margin:0 0 1em 0;color:#aaa;font-size:90%}code{font-family:monospace;font-size:120%}header{border-bottom:1px solid;padding:20px 0}header:after{content:"";display:table;clear:both}header svg{float:left;margin:0 10px 0 0}header nav,header span{vertical-align:middle}header nav{line-height:55px}header nav a{border-bottom:1px dotted}main{margin:20px 0}main.home section{display:grid;grid-template-columns:1fr 1fr;grid-auto-rows:calc((100vw - 40px)/ 2);column-gap:10px;row-gap:10px;margin:0 0 3em 0;grid-template-rows:2em}.cat-block{display:block;color:#fff;background:#212121;text-decoration:none;text-align:center;line-height:calc((100vw - 40px)/ 2)}.cat-block:nth-child(1){grid-column-start:1;grid-column-end:3;line-height:normal;color:#212121;background:#fff}span.tag{background:#eaedee;display:inline-block;margin:0 7px 0 0;border-radius:5px;padding:0 10px}main.books dl{padding:0 0 0 90px}main.books dd:after{content:"";display:table;clear:both}main.books dl img{height:120px;width:80px;float:left;margin:-1.6em 0 0 -90px}article img{max-width:100%;height:auto}article hr{display:none}article table{border-collapse:collapse;border:none!important;margin:1em auto}article tr{border-bottom:1px dotted}article td,article th{border:none!important;padding:.5em 1em}article li{margin:0 0 1em 0}article a{border-bottom:1px dotted}main.book article img{height:180px;width:120px;display:block;margin:0 1em 0 0;float:left}main.book article p:first-of-type+ul{list-style-type:none;float:left;padding:0;width:120px;margin:1em 1em 1em 0;font-size:90%;clear:left;text-transform:uppercase;text-align:center}main.book article ul a{display:block;background:#000;color:#fff;line-height:40px;padding:5px;font-size:80%;font-weight:700;margin:0 0 2px 0}form{max-width:400px;margin:0 auto}label{display:block;margin:0;padding:0}input{display:block;font-size:1em;margin-bottom:1em;width:100%;padding:5px;box-sizing:border-box}input[type=submit]{background:#000;color:#fff;border:0;height:40px}main.book section{border-top:1px solid}footer{border-top:1px solid}@media screen and (min-width:800px){header span{line-height:55px}main.home section{grid-template-columns:repeat(4,1fr);grid-auto-rows:1fr;grid-template-rows:unset}.cat-block:nth-child(1){grid-column-start:1;grid-column-end:2;font-weight:700;line-height:195px}.cat-block:nth-child(3n+2){grid-column-start:2}.cat-block{line-height:195px}main.books dl{padding:0;display:grid;grid-template-columns:1fr 1fr;grid-auto-flow:dense}main.books dt{padding:0 0 0 calc(73px + 1em)}main.books dl>:nth-of-type(odd){grid-column:1}main.books dl>:nth-of-type(even){grid-column:2}main.books dl img{margin:-1em 1em 0 0}}</style></head><body><header><a href="/"><svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="55" height="55" viewBox="0 0 400 400"><path d="M0 200v200h400V0H0v200zm60-68v60l56.3-.2 56.2-.3.5-40c.6-45.8.6-45.5 9.5-57.9 7.7-10.7 19.8-18.1 34.2-20.7 3.2-.6 26.4-.9 57.5-.6 46.5.3 53 .5 58.2 2.1 22.7 6.8 38.1 21.9 46.3 45.6 2.4 7 2.7 9 3.1 29.1.3 19.5.2 22.5-1.7 29.9-5.2 20.7-17 34.9-36.6 44-12.2 5.8-19.5 7-40.7 7-10.1 0-34.8.3-55 .7l-36.8.6V344h-39.3l.6-57 .7-57h-67.5c-58.7 0-68-.2-71.3-1.5-4.9-2.1-8.1-5.2-10.3-10-1.7-3.8-1.9-8.1-1.9-75.3V72h38v60z"/><path d="M219 111.3c-1.9.7-4.4 2.7-5.7 4.6-2.3 3.4-2.3 3.5-2.3 39.8v36.4l54.8-.3 54.7-.3 5.6-2.6c6.5-3.1 11.9-8.2 15.1-14.2 2.1-3.9 2.3-5.4 2.3-22.2 0-17.7-.1-18.1-2.8-24.1-3.4-7.4-8.4-12.5-15.2-15.6-5-2.3-5.2-2.3-54-2.5-36.3-.2-49.9.1-52.5 1z"/></svg></a><nav><a href="https://www.leepenney.com/index.html">Home</a> &gt; <a href="https://www.leepenney.com/tech">Tech</a></nav></header><main class="Tips Web/Dev Tips tech vfd"><article><h1>Hosting a Site on Google Cloud Storage</h1><div class="meta">12 May, 2016 | <span class="tag">Tips</span><span class="tag">Web/dev Tips</span><span class="tag">Tech</span><span class="tag">Vfd</span></div><p>This is part of my series of try some <a href="http://viewfinderdesign.co.uk/archive/685/experiments-in-alternative-hosting/">alternative hosting options</a>. Next up, I decided to try Google Cloud Storage. Amazon's cloud platform is probably the best known, but it's far from the only one, with plenty of competitors, including Google.</p><p>Cloud Storage is their equivalent of Amazon's S3. It's designed to store files (and there are options about how fast it retrieves them), but can also be used to host static sites.</p><h3>Getting Started</h3><p>There's a free trial, with $300 of credit to use (although it expires after 60 days) which is simple enough to sign up for. The one irksome thing is that it requires you to register a payment method.</p><p>I happened to sign up with a Google Apps account and found I was unable to create a project (seemingly required) until the administrator (thankfully me) had enabled the Google Developers Console app. Something to be aware of.</p><p>I switched around <a href="https://cloud.google.com/storage/docs/website-configuration">Google's official instructions</a>, partly because <a href="http://little418.com/2015/07/jekyll-google-cloud-storage.html">I had already read these</a>, and partly because it was obvious I wanted to set my site up before I moved my DNS.</p><p>You then need to create a Cloud Storage Bucket, with the name of your domain as the bucket name. To do this you first need to verify you own it. You have to do this through Webmaster Tools, which was another app I needed to turn on in my Google Apps console.</p><p>Most of Google's instructions involve using their command line gsutil application, but can also be achieved through the web UI.<br></p><hr id="read-more"><p>You then need to set the default object permissions (not the bucket permissions) to add a user called allUsers which has Reader access. You'll also need to edit the website configuration to set the default Main and 404 pages. Do this before you load files of you'll need to change them again.</p><p>Loading files was easy enough, with the option to load from the console window in my browser. It doesn't allow you to load directories though, so you'd have to create those manually. I ended up installing the Cloud SDK and using gsutil to bulk upload.</p><p>Lastly, set up a CNAME on your domain to point to <code>c.storage.googleapis.com</code></p><p>Another 'gotcha' I stumbled across was that double forward slashes (<code>//)</code> weren't supported in URL paths. Some of my links were generated incorrectly and, while the other hosting options I've trialed have handled this, Cloud Storage returned a 404 for any page or resource referenced that way.</p><p>I had to set up a redirect in my registrar to get the www version of the site to point to the naked domain as Google doesn't support both in one bucket.</p><h3>Speed</h3><p>I again ran my standard series of tests once uploaded.</p><table style="border:1px solid #ccc;border-collapse:collapse" border="1" cellspacing="0" cellpadding="5"><tbody><tr><th></th><th>Original host</th><th>Test host</th></tr><tr><td>PS Rank (Mobile)</td><td>88/100</td><td>81/100</td></tr><tr><td>PS Rank (Desktop)</td><td>93/100</td><td>87/100</td></tr><tr><td>WPT First Byte</td><td>0.156s</td><td>0.348s</td></tr><tr><td>WPT Fully Loaded</td><td>2.892s</td><td>1.965s</td></tr><tr><td>WPT Bytes (KB)</td><td>1,093</td><td>347</td></tr><tr><td>GTMet YSlow</td><td>88%</td><td>84%</td></tr><tr><td>GTMet Load Time</td><td>2.5s</td><td>1.7s</td></tr><tr><td>GTMet Size (Mb)</td><td>1.05</td><td>327</td></tr><tr><td>GTMet Requests</td><td>15</td><td>15</td></tr></tbody></table><p>Strangely, the Page Speed and YSlow scores took a small hit when compared to a standard LAMP host. This seems to have come down to some short cache times on CSS and image files where they thought they should be longer (it appears Cloud Storage defaults to an hour, but this can be increased).</p><p>First Byte also took a small hit, but the total load time improved and, as you can see, the page size dropped dramatically.</p><h3>Summary</h3><table style="border:1px solid #ccc;border-collapse:collapse" border="1" cellspacing="0" cellpadding="5"><tbody><tr><td>Set-up difficulty</td><td><img style="vertical-align:text-bottom" src="https://www.leepenney.com/img/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjEwIDEwIDIwIDIwIiB2ZXJzaW9uPSIxLjEiIGhlaWdodD0iMjAiIHdpZHRoPSIyMCI+PGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMTAiIHN0eWxlPSJmaWxsOiNGMEE4MDAiIC8+PC9zdmc+" alt="Average" width="20" height="20"></td><td>It certainly wasn't as easy as a regular host but the steps are quite straightforward.</td></tr><tr><td>Set-up time</td><td><img style="vertical-align:text-bottom" src="https://www.leepenney.com/img/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjEwIDEwIDIwIDIwIiB2ZXJzaW9uPSIxLjEiIGhlaWdodD0iMjAiIHdpZHRoPSIyMCI+PGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMTAiIHN0eWxlPSJmaWxsOiM3OEE4MzAiIC8+PC9zdmc+" alt="Good" width="20" height="20"></td><td>Once you know where to go, it's pretty quick, but it was a little confusing, I had to install a utility to upload my files. It could be slicker and easier.</td></tr><tr><td>Speed</td><td><img style="vertical-align:text-bottom" src="https://www.leepenney.com/img/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjEwIDEwIDIwIDIwIiB2ZXJzaW9uPSIxLjEiIGhlaWdodD0iMjAiIHdpZHRoPSIyMCI+PGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMTAiIHN0eWxlPSJmaWxsOiNGMEE4MDAiIC8+PC9zdmc+" alt="Average" width="20" height="20"></td><td>Not the fastest host out there, nor does it claim to be.</td></tr><tr><td>Cost</td><td><img style="vertical-align:text-bottom" src="https://www.leepenney.com/img/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjEwIDEwIDIwIDIwIiB2ZXJzaW9uPSIxLjEiIGhlaWdodD0iMjAiIHdpZHRoPSIyMCI+PGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMTAiIHN0eWxlPSJmaWxsOiM3OEE4MzAiIC8+PC9zdmc+" alt="Good" width="20" height="20"></td><td>The free credit was nice, but it would have code me just $0.01 for a month</td></tr></tbody></table><h3>Final Thoughts</h3><p>The set-up process, while not particularly long-winded, was harder than it needed to be. Granted, I was twisting a tool to do a job it wasn't initially designed to do (though officially sanctioned), but there seemed a lot of steps. The fact that I had to install a command line utility to upload files in folders was especially galling.</p><p>In terms of pricing, I took advantage of some free credit, so it cost me nothing. If Google didn't time it out I'd have been able to run my site almost indefinitely, so small is the amount of traffic and storage. I had a particularly quiet month and so the cost to serve was lower than any previous host (had I actually been charged).</p><p>Performance-wise it did pretty well, offering reasonable speed, comparable to shared hosting, but not lightning by any stretch of the imagination.</p><p>You obviously get the benefit of access to the entire Cloud platform, although that probably just adds complexity if all you want to do is host a site.</p><p>Certainly not a bad way to host a static site though, and very cost effective. If you're tech-savvy then the command line may be seen as a benefit as you could automate deploys. Not an ideal platform though.</p></article></main><footer><p>&copy; Lee Penney. All rights reserved.</p></footer></body></html>