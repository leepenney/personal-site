<!DOCTYPE html><html lang="en-GB"><head><meta charset="utf-8"><title>Tips for Building a Site with Hugo &gt; Tech &gt; Lee Penney</title><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><meta name="description" content="The documentation for Hugo is generally very good, but I ran into a few areas where it left me confused, or useful things were missing. I thoug"><meta property="og:title" content="Tips for Building a Site with Hugo"><meta property="og:description" content="The documentation for Hugo is generally very good, but I ran into a few areas where it left me confused, or useful things were missing. I thoug"><meta property="og:url" content="https://www.leepenney.com/tech/tips-for-building-a-site-with-hugo.html"><meta property="og:type" content="article"><link rel="canonical" href="https://www.leepenney.com/tech/tips-for-building-a-site-with-hugo.html"><link rel="icon" href="https://www.leepenney.com/img/favicon.ico" type="image/x-icon"><style>body{color:#212121;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;letter-spacing:.02em;padding:0 20px;margin:0 auto;max-width:800px}a{color:#212121;text-decoration:none}dt{font-weight:700;font-size:1.2em}dt a{display:block;padding:10px 0 5px 0}dd,div.meta{margin:0 0 1em 0;color:#aaa;font-size:90%}code{font-family:monospace;font-size:120%}header{border-bottom:1px solid;padding:20px 0}header:after{content:"";display:table;clear:both}header svg{float:left;margin:0 10px 0 0}header nav,header span{vertical-align:middle}header nav{line-height:55px}header nav a{border-bottom:1px dotted}main{margin:20px 0}main.home section{display:grid;grid-template-columns:1fr 1fr;grid-auto-rows:calc((100vw - 40px)/ 2);column-gap:10px;row-gap:10px;margin:0 0 3em 0;grid-template-rows:2em}.cat-block{display:block;color:#fff;background:#212121;text-decoration:none;text-align:center;line-height:calc((100vw - 40px)/ 2)}.cat-block:nth-child(1){grid-column-start:1;grid-column-end:3;line-height:normal;color:#212121;background:#fff}span.tag{background:#eaedee;display:inline-block;margin:0 7px 0 0;border-radius:5px;padding:0 10px}main.books dl{padding:0 0 0 90px}main.books dd:after{content:"";display:table;clear:both}main.books dl img{height:120px;width:80px;float:left;margin:-1.6em 0 0 -90px}article img{max-width:100%;height:auto}article hr{display:none}article table{border-collapse:collapse;border:none!important;margin:1em auto}article tr{border-bottom:1px dotted}article td,article th{border:none!important;padding:.5em 1em}article li{margin:0 0 1em 0}article a{border-bottom:1px dotted}main.book article img{height:180px;width:120px;display:block;margin:0 1em 0 0;float:left}main.book article p:first-of-type+ul{list-style-type:none;float:left;padding:0;width:120px;margin:1em 1em 1em 0;font-size:90%;clear:left;text-transform:uppercase;text-align:center}main.book article ul a{display:block;background:#000;color:#fff;line-height:40px;padding:5px;font-size:80%;font-weight:700;margin:0 0 2px 0}form{max-width:400px;margin:0 auto}label{display:block;margin:0;padding:0}input{display:block;font-size:1em;margin-bottom:1em;width:100%;padding:5px;box-sizing:border-box}input[type=submit]{background:#000;color:#fff;border:0;height:40px}main.book section{border-top:1px solid}footer{border-top:1px solid}@media screen and (min-width:800px){header span{line-height:55px}main.home section{grid-template-columns:repeat(4,1fr);grid-auto-rows:1fr;grid-template-rows:unset}.cat-block:nth-child(1){grid-column-start:1;grid-column-end:2;font-weight:700;line-height:195px}.cat-block:nth-child(3n+2){grid-column-start:2}.cat-block{line-height:195px}main.books dl{padding:0;display:grid;grid-template-columns:1fr 1fr;grid-auto-flow:dense}main.books dt{padding:0 0 0 calc(73px + 1em)}main.books dl>:nth-of-type(odd){grid-column:1}main.books dl>:nth-of-type(even){grid-column:2}main.books dl img{margin:-1em 1em 0 0}}</style></head><body><header><a href="/"><svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="55" height="55" viewBox="0 0 400 400"><path d="M0 200v200h400V0H0v200zm60-68v60l56.3-.2 56.2-.3.5-40c.6-45.8.6-45.5 9.5-57.9 7.7-10.7 19.8-18.1 34.2-20.7 3.2-.6 26.4-.9 57.5-.6 46.5.3 53 .5 58.2 2.1 22.7 6.8 38.1 21.9 46.3 45.6 2.4 7 2.7 9 3.1 29.1.3 19.5.2 22.5-1.7 29.9-5.2 20.7-17 34.9-36.6 44-12.2 5.8-19.5 7-40.7 7-10.1 0-34.8.3-55 .7l-36.8.6V344h-39.3l.6-57 .7-57h-67.5c-58.7 0-68-.2-71.3-1.5-4.9-2.1-8.1-5.2-10.3-10-1.7-3.8-1.9-8.1-1.9-75.3V72h38v60z"/><path d="M219 111.3c-1.9.7-4.4 2.7-5.7 4.6-2.3 3.4-2.3 3.5-2.3 39.8v36.4l54.8-.3 54.7-.3 5.6-2.6c6.5-3.1 11.9-8.2 15.1-14.2 2.1-3.9 2.3-5.4 2.3-22.2 0-17.7-.1-18.1-2.8-24.1-3.4-7.4-8.4-12.5-15.2-15.6-5-2.3-5.2-2.3-54-2.5-36.3-.2-49.9.1-52.5 1z"/></svg></a><nav><a href="https://www.leepenney.com/index.html">Home</a> &gt; <a href="https://www.leepenney.com/tech">Tech</a></nav></header><main class="Expert Tips Tips tech vfd"><article><h1>Tips for Building a Site with Hugo</h1><div class="meta">12 Feb, 2016 | <span class="tag">Expert Tips</span><span class="tag">Tips</span><span class="tag">Tech</span><span class="tag">Vfd</span></div><p>The <a href="http://gohugo.io/overview/introduction/">documentation for Hugo</a> is generally very good, but I ran into a few areas where it left me confused, or useful things were missing. I thought I would write up some of things I struggled with (and will possibly add to the official docs).</p><p>Some of these were down to migrating from an existing site and wanting to match things like URLs.</p><h3>Variable Casing</h3><p>I found it often confusing, sometimes bewildering, as to why certain variables weren't appearing or evaluating, only to find the casing wasn't correct.</p><p>In the layouts, variables are generally camel-cased (except for parameters in the front matter, which are all lowercase), but then you get things like <code>RSSLink</code> rather than <code>RssLink</code> and <code>BaseURL</code> rather than <code>BaseUrl</code>.</p><p>This is also true of the config file used to control the site. I found <code>baseurl</code> to work, rather than <code>baseURL</code> as stated in the docs (although the examples have it all in lowercase). A seemingly missing variable is <code>rssURI</code>, which defines the filename to use for the generated RSS feed (see below) and completely fails all the other 'standards' for variable names.<br></p><hr id="read-more"><h3>Conditionals</h3><p>I struggled with the formatting of conditional statements, which are inherited from Go's template functionality. Instead of the usual format (which even Go uses), like this:</p><p><code>if condition_one and condition_two then</code></p><p>The conditions are front loaded, unless there are more than one, so this:</p><p><code>if not (eq .Title "Example")</code></p><p>is the equivalent of:</p><p><code>if .Title != 'Example'</code></p><p>and</p><p><code>if or (eq .Section "blog") (eq .Data.Singular "category")</code></p><p>is the equivalent of:</p><p><code>if .Section == 'blog' or .Data.Singular == 'category'</code></p><p>There are a few other examples in the <a href="http://gohugo.io/templates/go-templates/">Go Template Primer section</a> to wrap your head around.</p><h3>Template Paths</h3><p>Another bit of inconsistency caught me out on this. The default path, for most layouts in a theme, is:</p><p><code>/themes/THEME_NAME/layouts/_default/LAYOUT_TYPE.html</code></p><p>If you want to override that for a particular archetype or section you can supersede the default by using:</p><p><code>/themes/THEME_NAME/layouts/TYPE_OR_SECTION_NAME/LAYOUT_TYPE.html</code></p><p>If you want to create a list page though (for your blog posts, for example, or everything in a particular archetype) you have to use:</p><p><code>/themes/THEME_NAME/layouts/section/SECTION_NAME.html</code></p><p>(assuming you want to override the default list or section view)</p><p>Lastly, if you want to create a list of terms (all categories assigned to a post say) you need to store it under:</p><p><code>/themes/THEME_NAME/layouts/taxonomy/SINGULAR_NAME.terms.html</code></p><p>So if you're wondering why your content isn't displaying correctly, check where you put the template file and what you called it.</p><h3>Partials</h3><p>For those more used to WordPress, these are the equivalent of includes: files that contain specific layouts or code to be pulled into a larger template. A header, footer and sidebar are all prime examples.</p><p>To pull one into a template, you use:</p><p><code>{{ partial "path/to/template" . }}</code></p><p>I was left scratching my head for a while before realising I was missing that trailing dot (full stop/period). My variables weren't working, even the global ones. The reason is you need to pass the variables to the partial template. The dot passes everything in the current context so it's <em>very</em> important.</p><p>There's also the option of using <a href="http://gohugo.io/templates/functions/#render">.Render</a> on list views, though I have no idea why there's two approaches, just make everyone use partials (which is what I ended up doing).</p><h3>Archetypes</h3><p>For a WordPress user, these are akin to custom post types. They allow you to create templates with variables in the front matter of the Markdown files generated with you use the <em>new</em> command. It essentially saves you having to manually add the variable names each time (you'll still need to fill them in manually).</p><h3>Date Formatting</h3><p>Functions in general are a bit confusing because some have the function's name at the start (e.g. <code>{{ lower "BatMan" }}</code>), while others come after a pipe character (e.g.<code>{{ .Title | markdownify }}</code>). With some functions you can probably do either, although I never put that to the test.</p><p>The <a href="http://gohugo.io/templates/functions/#dateformat">dateFormat function</a> looks like this (in the docs):</p><p><code>{{ dateFormat "Monday, Jan 2, 2006" "2015-01-21" }}</code></p><p>The first parameter is the template for the format and the second is the date you want to format. I actually ended up using this:</p><p><code>{{ .Date | dateFormat "2 Jan 2006" }}</code></p><p>Which operates on the .Date variable to turn it into a date of that format.</p><p>I was concerned about how to specify the date format, how would it know what was the day and what the month (as the crazy Americans have it the wrong way round)? Well <a href="https://golang.org/pkg/time/">Go's time package</a> looks for a specific date:</p><p><code>01/02 03:04:05PM '06 -0700</code></p><p>So Monday 2nd Jan 2006, which allows it to know what is what. Just make sure you set your format up to match that date if you're doing something non-standard and it should work it out.</p><p>One thing that's missing from the date format is ordinals (that's down to Go though).</p><h3>Permalinks</h3><p>There's <a href="http://gohugo.io/extras/permalinks/">a whole section of the docs</a> dedicated to how to format permalinks, which you can do on a per-section basis.</p><p>My advice is to use <code>:slug</code> rather than <code>:title</code> in your URLs. If you don't set it in your front matter Hugo will fall back to the title, so you don't have to do it manually each time, but it means you can set the slug parameter in your front matter to override the title should you need to.</p><p>I found this especially helpful when Hugo decided a full stop (period) should remain in the URL path and promptly broke the link (commas it converts to hyphens).</p><h3>RSS Feeds</h3><p>There are plenty of as-yet undocumented features and options in Hugo (or so it felt when I was trying to solve various things), one of which is specifying the URL of your RSS feed. It's not covered in the Configuration section, but you can add:</p><p><code>rssURI = "feed"</code></p><p>(If you're using the TOML format, you'll have to add the equivalent if using YAML.)</p><p>This tells Hugo to output the RSS feed to:</p><p><code>http://yourdomain.tld/feed</code></p><p>Which seems to work (I was trying to match WordPress' path). Obviously put in rss.xml and you'll get:</p><p><code>http://yourdomain.tld/rss.xml</code></p><p>I believe the default is index.xml if you don't specify anything.</p><h3>Debugging</h3><p>Another useful tip is printing out the variables in a context to see what you have and how to access them. There's <a href="http://gohugo.io/templates/debugging/">a section in the docs</a> that covers this, plus the <a href="http://gohugo.io/templates/functions/#echoparam">echoParam</a> function to make this a bit easier.</p><h3>Lastly</h3><p>When all else fails, have a search through the <a href="https://discuss.gohugo.io/">Hugo community forums</a>, as you'll often find the answer in there.</p></article></main><footer><p>&copy; Lee Penney. All rights reserved.</p></footer></body></html>