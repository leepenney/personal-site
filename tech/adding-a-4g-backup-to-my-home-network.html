<!DOCTYPE html><html lang="en-GB"><head><meta charset="utf-8"><title>Adding a 4G backup to my home network &gt; Tech &gt; Lee Penney</title><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><meta name="description" content="Like many people, I have been working from home a lot more over the past couple of years. I live in the suburbs and the connection has generally been pretty good. It&#39;s not been perfect though.
"><meta property="og:title" content="Adding a 4G backup to my home network"><meta property="og:description" content="Like many people, I have been working from home a lot more over the past couple of years. I live in the suburbs and the connection has generally been pretty good. It&#39;s not been perfect though.
"><meta property="og:url" content="https://www.leepenney.com/tech/adding-a-4g-backup-to-my-home-network.html"><meta property="og:type" content="article"><link rel="canonical" href="https://www.leepenney.com/tech/adding-a-4g-backup-to-my-home-network.html"><link rel="icon" href="https://www.leepenney.com/img/favicon.ico" type="image/x-icon"><style>body{color:#212121;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;letter-spacing:.02em;padding:0 20px;margin:0 auto;max-width:800px}a{color:#212121;text-decoration:none}dt{font-weight:700;font-size:1.2em}dt a{display:block;padding:10px 0 5px 0}dd,div.meta{margin:0 0 1em 0;color:#aaa;font-size:90%}code{font-family:monospace;font-size:120%}header{border-bottom:1px solid;padding:20px 0}header:after{content:"";display:table;clear:both}header svg{float:left;margin:0 10px 0 0}header nav,header span{vertical-align:middle}header nav{line-height:55px}header nav a{border-bottom:1px dotted}main{margin:20px 0}main.home section{display:grid;grid-template-columns:1fr 1fr;grid-auto-rows:calc((100vw - 40px)/ 2);column-gap:10px;row-gap:10px;margin:0 0 3em 0;grid-template-rows:2em}.cat-block{display:block;color:#fff;background:#212121;text-decoration:none;text-align:center;line-height:calc((100vw - 40px)/ 2)}.cat-block:nth-child(1){grid-column-start:1;grid-column-end:3;line-height:normal;color:#212121;background:#fff}span.tag{background:#eaedee;display:inline-block;margin:0 7px 0 0;border-radius:5px;padding:0 10px}main.books dl{padding:0 0 0 90px}main.books dd:after{content:"";display:table;clear:both}main.books dl img{height:120px;width:80px;float:left;margin:-1.6em 0 0 -90px}article img{max-width:100%;height:auto}article hr{display:none}article table{border-collapse:collapse;border:none!important;margin:1em auto}article tr{border-bottom:1px dotted}article td,article th{border:none!important;padding:.5em 1em}article li{margin:0 0 1em 0}article a{border-bottom:1px dotted}main.book article img{height:180px;width:120px;display:block;margin:0 1em 0 0;float:left}main.book article p:first-of-type+ul{list-style-type:none;float:left;padding:0;width:120px;margin:1em 1em 1em 0;font-size:90%;clear:left;text-transform:uppercase;text-align:center}main.book article ul a{display:block;background:#000;color:#fff;line-height:40px;padding:5px;font-size:80%;font-weight:700;margin:0 0 2px 0}form{max-width:400px;margin:0 auto}label{display:block;margin:0;padding:0}input{display:block;font-size:1em;margin-bottom:1em;width:100%;padding:5px;box-sizing:border-box}input[type=submit]{background:#000;color:#fff;border:0;height:40px}main.book section{border-top:1px solid}footer{border-top:1px solid}@media screen and (min-width:800px){header span{line-height:55px}main.home section{grid-template-columns:repeat(4,1fr);grid-auto-rows:1fr;grid-template-rows:unset}.cat-block:nth-child(1){grid-column-start:1;grid-column-end:2;font-weight:700;line-height:195px}.cat-block:nth-child(3n+2){grid-column-start:2}.cat-block{line-height:195px}main.books dl{padding:0;display:grid;grid-template-columns:1fr 1fr;grid-auto-flow:dense}main.books dt{padding:0 0 0 calc(73px + 1em)}main.books dl>:nth-of-type(odd){grid-column:1}main.books dl>:nth-of-type(even){grid-column:2}main.books dl img{margin:-1em 1em 0 0}}</style></head><body><header><a href="/"><svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="55" height="55" viewBox="0 0 400 400"><path d="M0 200v200h400V0H0v200zm60-68v60l56.3-.2 56.2-.3.5-40c.6-45.8.6-45.5 9.5-57.9 7.7-10.7 19.8-18.1 34.2-20.7 3.2-.6 26.4-.9 57.5-.6 46.5.3 53 .5 58.2 2.1 22.7 6.8 38.1 21.9 46.3 45.6 2.4 7 2.7 9 3.1 29.1.3 19.5.2 22.5-1.7 29.9-5.2 20.7-17 34.9-36.6 44-12.2 5.8-19.5 7-40.7 7-10.1 0-34.8.3-55 .7l-36.8.6V344h-39.3l.6-57 .7-57h-67.5c-58.7 0-68-.2-71.3-1.5-4.9-2.1-8.1-5.2-10.3-10-1.7-3.8-1.9-8.1-1.9-75.3V72h38v60z"/><path d="M219 111.3c-1.9.7-4.4 2.7-5.7 4.6-2.3 3.4-2.3 3.5-2.3 39.8v36.4l54.8-.3 54.7-.3 5.6-2.6c6.5-3.1 11.9-8.2 15.1-14.2 2.1-3.9 2.3-5.4 2.3-22.2 0-17.7-.1-18.1-2.8-24.1-3.4-7.4-8.4-12.5-15.2-15.6-5-2.3-5.2-2.3-54-2.5-36.3-.2-49.9.1-52.5 1z"/></svg></a><nav><a href="https://www.leepenney.com/index.html">Home</a> &gt; <a href="https://www.leepenney.com/tech">Tech</a></nav></header><main class="tech"><article><h1>Adding a 4G backup to my home network</h1><div class="meta">11 Jan, 2022 | <span class="tag">Tech</span></div><p>Like many people, I have been working from home a lot more over the past couple of years. I live in the suburbs and the connection has generally been pretty good. It's not been perfect though.</p><p>I am currently using a fibre-to-the-cabinet (FTTC) connection (for those not in the UK, that means it's fibre to the local cabinet -- box in the street -- and then runs over copper to the house). It's not super fast, but is enough for me.</p><p>It does have an annoying tendency to drop out for a minute every now and again, or have a funny five minutes where it'll bounce up and down like a yo-yo, presumably while it tries to find a more stable setting, or the engineer working on the box puts his sandwich down and re-plugs my line.</p><p>This happened several times on some calls I was on recently -- I can cope with a few minutes of downtime every now and again, but not when I'm on a call, where it's hard to go make a cup of tea to alleviate the frustration.</p><p>I have been browsing options for a while but it got to the point that I decided I was going to do something about it. For some reason I got it into my head that I needed 4G (LTE) backup to cover those blips.</p><h3 id="mcetoc_1fp5eu9ou0">Researching the options</h3><p>I love doing research like this. I hadn't looked at networking gear for years so it meant delving into the murky realms and learning plenty (I love doing this).</p><p>I was using the provided modem-router from my previous supplier (apparently it's better than the one my current provider provides). It did the job, most of the time.</p><p>The first thought was a router with 4G failover. No worries. It wasn't a particularly pricey option, but watching a video on how long it took for the 4G to kick in -- 45 seconds -- there was no way that would fly on a call. There were more capable routers, but they came at a price (I did contemplate a second-hand purchase via an eBay raid).</p><p>Then I thought about dual connections and load balancing them through a router. So I'd need to buy a 4G modem with ethernet out, a switch with load balancing capabilities, and a wifi router to provide wireless access. I had the latter but would need to procure the other two. I researched a couple of TP-Link routers (470+ and a 605). The combined price didn't make sense (see the Was it the best option? section below) which held my decision to buy.</p><h3 id="mcetoc_1fp5g0ajk2">You WRT?</h3><p>I took a look at the existing hardware I had (like everyone, I seem to accumulate tech). Which also appealed to both my frugality and my desire not to create waste unnecessarily (save the planet people, we only have one...).</p><p>I knew some hardware let you install alternative firmware with more functionality. Would my modem-router let me do that? Yes, but not without soldering. Not interested.</p><p>I had a <a href="https://www.tp-link.com/uk/home-networking/wifi-router/tl-wdr3600/">TP-Link TL-WDR3600</a> lying around that I had used with an ADSL modem before. I knew that had USB ports but they didn't support a 4G dongle. It was well supported by alternate firmware (part of the reason I bought it) like <a href="https://dd-wrt.com/">DD-WRT</a>, <a href="https://openwrt.org/">OpenWrt</a> and, as it turns out, <a href="https://ofmodemsandmen.com/">Rooter</a>.</p><p>The latter was designed specifically to add 4G dongle support to the USB ports. Awesome.</p><p>So I dig out the WDR3600 and install the firmware. All worked, excellent. I read a bunch of guides -- the interface isn't exactly clear.</p><h3 id="mcetoc_1fp5g1p733">Modems</h3><p>I was going to grab a 4G USB dongle, but I noticed it supported tethering via USB for Android and iPhone. I plug in the latter, and nothing. Not a surprise -- Apple don't play well with others.</p><p>Then I was going to buy a cheap Android handset, when I remembered my brother-in-law is the nominated Android user in the family so sent a quick message his way.</p><p>A little while later I had his old Samsung S6 as a test. I hooked it up and voila, recognised instantly and I was able to connect over wifi and surf the web wirelessly from a spare PC.</p><p>I ordered a 4G SIM (or two), waited a day, added some credit to one from Smarty (AKA Three) and voila, surfing over mobile using an old Android handset and a patched router -- total cost £10 for 30GB of data (just in case).</p><h3 id="mcetoc_1fp5g3j2g4">Not such a flash</h3><p>The one negative of the WDR3600 is the lack of flash memory (only 8MB) so I didn't have the load balancing option installed by default, just the failover option.</p><p>I could try installing the mwan3 extension (as Rooter is built on top of OpenWrt), but I decided I would give the failover option a go first, as that's the ideal scenario (saves paying for excess data).</p><p>A bit of testing suggested that it actually worked fairly well, though I haven't had much chance to put it through its paces in a real world test yet.</p><h3 id="mcetoc_1fp5gdael5">Configuring the whole thing</h3><p>With it set up, the next task was to switch the existing modem-router into bridge mode. Easier said than done as it doesn't have one (it's a BT Smart Hub, AKA a BT Home Hub 6A).</p><p>(I should add that at some point I think I made a mistake in the config as I couldn't get into Rooter, I tried various hardware resets -- holding the button for specified periods of time, waiting for LEDs to flash in certain patterns. None of them worked as far as I could see but I did somehow get reconnected again.)</p><p>In the end, the <a href="https://thomascoward.co.uk/networks/using-bt-smart-hub-asus-rt-ac68u-router/">instructions from Thomas Coward</a> did the job. Briefly, it was:</p><ol><li>Change the IP address, and set the custom DHCP server range</li><li>Disable the firewall</li><li>Enable the DMZ and point it at the WDR3600 running Rooter</li><li>Disable WiFi (so it runs from the WDR3600)</li><li>Plug a network cable into LAN port 1 on the Hub and the WAN port on the WDR3600</li></ol><h3 id="mcetoc_1fp5go8li6">The result</h3><p>Might be coincidence, but my internet connection is faster regardless. That may be because I bounced the connection while testing the failover and when it re-established the connection it got a better session. Or it could that taking some of the processing off of the modem-router freed up resources to make the connection quicker.</p><p>As I write this, it's not been established long enough to know if this is going to improve things. I would say the internet connection as a whole has been more stable, but I have been looking at the modem and router's status pages and the modem's uptime reset part-way through the day and I never noticed, so perhaps it's doing its job.</p><p>We'll see.</p><h3 id="mcetoc_1fp5eurra1">Was it the best option?</h3><p>I did realise part the way through this process that I could simply procure a better internet connection. There is at least one service that offers FTTP (fibre-to-the-premises, that is fibre all the way to your house) available to me, and another provider coming into the area soon, so it would likely have been cheaper and easier to simply switch. Even though I had time to run on my current contract it was (and still is) an option.</p><h3 id="mcetoc_1fp5hi6b77">Conclusion</h3><p>The route I took wasn't for the faint of heart perhaps, but was a lot easier than it could have been thanks to the efforts of people far smarter and more dedicated than me who produced software and guides that made it all possible.</p><p>But yes, you can cobble together a 4G backup solution using cheap, old hardware you may well have lying around using third-party firmware that grants them a new lease of life. Yay for recycling.</p><p>There's also some more evidence to add to the pile regarding the use of a separate modem and router rather than a combined unit. Repurpose and reuse to make things better.</p></article></main><footer><p>&copy; Lee Penney. All rights reserved.</p></footer></body></html>