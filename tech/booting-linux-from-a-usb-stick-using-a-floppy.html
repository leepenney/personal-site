<!DOCTYPE html><html lang="en-GB"><head><meta charset="utf-8"><title>Booting Linux from a USB Stick using a Floppy &gt; Tech &gt; Lee Penney</title><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><meta name="description" content="The trusty old Fujis that make up the bulk of the computers I deal with day-to-day tend to be pretty reliable, but I have noticed a few going down with (what I believe are) faulty disk drive contro"><meta property="og:title" content="Booting Linux from a USB Stick using a Floppy"><meta property="og:description" content="The trusty old Fujis that make up the bulk of the computers I deal with day-to-day tend to be pretty reliable, but I have noticed a few going down with (what I believe are) faulty disk drive contro"><meta property="og:url" content="https://www.leepenney.com/tech/booting-linux-from-a-usb-stick-using-a-floppy.html"><meta property="og:type" content="article"><link rel="canonical" href="https://www.leepenney.com/tech/booting-linux-from-a-usb-stick-using-a-floppy.html"><link rel="icon" href="https://www.leepenney.com/img/favicon.ico" type="image/x-icon"><style>body{color:#212121;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;letter-spacing:.02em;padding:0 20px;margin:0 auto;max-width:800px}a{color:#212121;text-decoration:none}dt{font-weight:700;font-size:1.2em}dt a{display:block;padding:10px 0 5px 0}dd,div.meta{margin:0 0 1em 0;color:#aaa;font-size:90%}code{font-family:monospace;font-size:120%}header{border-bottom:1px solid;padding:20px 0}header:after{content:"";display:table;clear:both}header svg{float:left;margin:0 10px 0 0}header nav,header span{vertical-align:middle}header nav{line-height:55px}header nav a{border-bottom:1px dotted}main{margin:20px 0}main.home section{display:grid;grid-template-columns:1fr 1fr;grid-auto-rows:calc((100vw - 40px)/ 2);column-gap:10px;row-gap:10px;margin:0 0 3em 0;grid-template-rows:2em}.cat-block{display:block;color:#fff;background:#212121;text-decoration:none;text-align:center;line-height:calc((100vw - 40px)/ 2)}.cat-block:nth-child(1){grid-column-start:1;grid-column-end:3;line-height:normal;color:#212121;background:#fff}span.tag{background:#eaedee;display:inline-block;margin:0 7px 0 0;border-radius:5px;padding:0 10px}main.books dl{padding:0 0 0 90px}main.books dd:after{content:"";display:table;clear:both}main.books dl img{height:120px;width:80px;float:left;margin:-1.6em 0 0 -90px}article img{max-width:100%;height:auto}article hr{display:none}article table{border-collapse:collapse;border:none!important;margin:1em auto}article tr{border-bottom:1px dotted}article td,article th{border:none!important;padding:.5em 1em}article li{margin:0 0 1em 0}article a{border-bottom:1px dotted}main.book article img{height:180px;width:120px;display:block;margin:0 1em 0 0;float:left}main.book article p:first-of-type+ul{list-style-type:none;float:left;padding:0;width:120px;margin:1em 1em 1em 0;font-size:90%;clear:left;text-transform:uppercase;text-align:center}main.book article ul a{display:block;background:#000;color:#fff;line-height:40px;padding:5px;font-size:80%;font-weight:700;margin:0 0 2px 0}form{max-width:400px;margin:0 auto}label{display:block;margin:0;padding:0}input{display:block;font-size:1em;margin-bottom:1em;width:100%;padding:5px;box-sizing:border-box}input[type=submit]{background:#000;color:#fff;border:0;height:40px}main.book section{border-top:1px solid}footer{border-top:1px solid}@media screen and (min-width:800px){header span{line-height:55px}main.home section{grid-template-columns:repeat(4,1fr);grid-auto-rows:1fr;grid-template-rows:unset}.cat-block:nth-child(1){grid-column-start:1;grid-column-end:2;font-weight:700;line-height:195px}.cat-block:nth-child(3n+2){grid-column-start:2}.cat-block{line-height:195px}main.books dl{padding:0;display:grid;grid-template-columns:1fr 1fr;grid-auto-flow:dense}main.books dt{padding:0 0 0 calc(73px + 1em)}main.books dl>:nth-of-type(odd){grid-column:1}main.books dl>:nth-of-type(even){grid-column:2}main.books dl img{margin:-1em 1em 0 0}}</style></head><body><header><a href="/"><svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="55" height="55" viewBox="0 0 400 400"><path d="M0 200v200h400V0H0v200zm60-68v60l56.3-.2 56.2-.3.5-40c.6-45.8.6-45.5 9.5-57.9 7.7-10.7 19.8-18.1 34.2-20.7 3.2-.6 26.4-.9 57.5-.6 46.5.3 53 .5 58.2 2.1 22.7 6.8 38.1 21.9 46.3 45.6 2.4 7 2.7 9 3.1 29.1.3 19.5.2 22.5-1.7 29.9-5.2 20.7-17 34.9-36.6 44-12.2 5.8-19.5 7-40.7 7-10.1 0-34.8.3-55 .7l-36.8.6V344h-39.3l.6-57 .7-57h-67.5c-58.7 0-68-.2-71.3-1.5-4.9-2.1-8.1-5.2-10.3-10-1.7-3.8-1.9-8.1-1.9-75.3V72h38v60z"/><path d="M219 111.3c-1.9.7-4.4 2.7-5.7 4.6-2.3 3.4-2.3 3.5-2.3 39.8v36.4l54.8-.3 54.7-.3 5.6-2.6c6.5-3.1 11.9-8.2 15.1-14.2 2.1-3.9 2.3-5.4 2.3-22.2 0-17.7-.1-18.1-2.8-24.1-3.4-7.4-8.4-12.5-15.2-15.6-5-2.3-5.2-2.3-54-2.5-36.3-.2-49.9.1-52.5 1z"/></svg></a><nav><a href="https://www.leepenney.com/index.html">Home</a> &gt; <a href="https://www.leepenney.com/tech">Tech</a></nav></header><main class="Expert Tips Software Tips Tips tech vfd"><article><h1>Booting Linux from a USB Stick using a Floppy</h1><div class="meta">9 Feb, 2013 | <span class="tag">Expert Tips</span><span class="tag">Software Tips</span><span class="tag">Tips</span><span class="tag">Tech</span><span class="tag">Vfd</span></div><p>The trusty old Fujis that make up the bulk of the computers I deal with day-to-day tend to be pretty reliable, but I have noticed a few going down with (what I believe are) faulty disk drive controllers (to be fair, these machines are at least six years old). The system runs fine, all except seeing a hard drive.</p><p>I’d obviously heard of running a computer from a solid state disk of some sort, it’s not new. The Raspberry Pi runs off of an SD card and I’ve seen a few projects using Compact Flash. So rather than bin another machine, I thought I would experiment to see if I could get Linux to run from an old USB flash drive I have lying around (Windows was pushing it on size if nothing else).</p><p>At first I looked for a lightweight distro, something close enough to Windows in look that, should I put it in front of one of my users, it wouldn’t freak them out. Precise Puppy seemed to be the answer.</p><p>Once loaded it runs from RAM, which made it responsive, but the design was a bit hard on the eye and to save any changes permanently you had to remember to click a button to write to the USB stick, which was a slow and tedious process. It also seemed to asked me to confirm some settings every time it started, not great when a machine rebooted, I could already hear the support calls. The final straw was the difficulty in getting an RDP client working.</p><p>I went back to a distro I knew a bit better and which looked easier on the eye: Linux Mint.</p><h3>Installing Linux</h3><p>To be honest, once I’d decided on Mint, I didn’t do anything particularly special, just picked the USB drive as the installation drive after booting from a Live CD/DVD. It took a bit of time, but once it was installed it ran from there without needing to do anything else.</p><p>I decided on a 4GB drive as 2GB was a little tight should you want to install anything else (and Mint isn’t the slimmest by default, it isn’t designed to be).</p><p>You could also install it using something like UNetBootin I assume.</p><p>The only slight issue is on boot you get an error saying hd0 is out of space and you have to press a key to continue, whether it does or not has been a bit random, but a reboot usually sorts it out.<br></p><hr id="read-more"><span id="more-585"></span><p></p><h3>Booting from USB without BIOS support</h3><p>So I had a bootable USB stick with an OS on it. The problem was that the machines we use are old enough not to have the option to boot from USB. To get around this, I decided to make a a bootable floppy that would recognize a USB drive. <a href="http://www.plop.at/">Plop</a> was the easiest (and one of the few) tool I found to do the job.</p><p>You can download it for a number of platforms. I used Windows so I download the latest version (5.0.14 at the time) from the Boot Manager downloads page and unzipped it, then used <a href="http://www.chrysocome.net/rawwrite">RawWriteWin</a> (also <a href="http://download.plop.at/files/rawwritewin.exe">downloadable from the Plop site</a>) to write the plpbt.img file to the floppy disk I planned to use.</p><p>This leaves you with Plop’s standard install, booting to a menu reminiscent of an 80s sci-fi game where you can pick to boot from a range of devices, including USB. That’ll work fine, but if you know you’re only ever going to boot from the stick, then you can tweak the config so it bypasses the menu and boots straight from the USB.</p><p><a href="http://www.viewfinderdesign.co.uk/wp-content/uploads/2014/04/plpcfgbtgui.png"><img class="alignleft size-thumbnail wp-image-590" style="float:left;margin:0 5px 5px 0" alt="plpcfgbtgui" src="https://www.leepenney.com/img/114/plpcfgbtgui-150x150.png" width="150" height="150"></a>To do this you need to use the plpcfgbt program included in the download. There are various command-line switches, <a href="http://www.plop.at/en/bootmanager/plpcfgbt.html">which you can find in the documentation</a>. The easier alternative is to use the plpcfgbtgui program which you can also find in the zip file you downloaded.</p><p>Click the button with the ellipsis and find the plpbt.bin file on your floppy, then hit Open. Now click the Hidden USB button at the bottom and then click Configure. Wait until you see a confirmation message and you’re all done.</p><p>Now insert the USB drive you installed Linux on, put your newly created floppy in the drive and boot the machine, it should show you the usual Linux bootloader and then away you go.</p><p>It’s not the fastest boot in the world, but once it’s up and running I found it ran very well on a P4 with 786Mb of RAM.</p><h3>Running Diskless</h3><p>Running off of a USB flash drive was actually easier than I thought and, once done, should just truck along. It’s probably not the answer for a long-term setup (USB sticks aren’t designed for high read/write usage), but I could send out a whole OS in the post to a remote site and let them plug it in, something I’d never do with a hard drive.</p><p>It’s also portable, so you could carry your own OS with you wherever you went (i.e. if you were staying at a friend’s house). Even just having it at home means you have a separate OS ready to go without disturbing your setup.</p><p>As USB drives get faster, they’ll become a viable alternative to a hard drive as well as more expensive solid state disks. I run my Pi off an SD card that cost £5, try finding a hard drive for that.</p></article></main><footer><p>&copy; Lee Penney. All rights reserved.</p></footer></body></html>